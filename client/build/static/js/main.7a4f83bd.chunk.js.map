{"version":3,"sources":["components/DropList.js","pages/Home.js","App.js","index.js"],"names":["DropList","props","console","log","useState","dropdownOpen","setDropdownOpen","onlyContactInfo","students","map","student","contactinfo","id","_id","Dropdown","isOpen","toggle","prevState","size","DropdownToggle","color","caret","DropdownMenu","firstname","lastname","email","DropdownItem","onClick","handleNameSelect","value","key","Home","state","selectedName","classNow","event","target","foundStudent","find","setState","window","confirm","attendanceData","student_id","class_id","type","fetch","method","body","JSON","stringify","headers","then","res","json","result","error","this","length","React","Component","App","exact","path","component","NoMatch","ReactDOM","render","document","getElementById"],"mappings":"2lBAIA,IA+BeA,EA/BE,SAACC,GAChBC,QAAQC,IAAIF,GADc,MAEcG,oBAAS,GAFvB,mBAEnBC,EAFmB,KAELC,EAFK,KAUpBC,EALGN,EAAMO,SAASC,KAAI,SAAAC,GACxB,O,yWAAO,CAAP,GAAWA,EAAQC,YAAnB,CAAgCC,GAAIF,EAAQG,SAKhDX,QAAQC,IAAII,GAGZ,OACE,kBAACO,EAAA,EAAD,CAAUC,OAAQV,EAAcW,OAHnB,kBAAMV,GAAgB,SAAAW,GAAS,OAAKA,MAGDC,KAAK,MACnD,kBAACC,EAAA,EAAD,CAAgBC,MAAM,UAAUC,OAAK,GAArC,oBAGA,kBAACC,EAAA,EAAD,KACIf,EAAgBE,KAAI,YAAuC,IAArCc,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,SAAiBZ,GAAQ,EAAfa,MAAe,EAARb,IAClD,OAEA,kBAACc,EAAA,EAAD,CAAcC,QAAS1B,EAAM2B,iBAAkBC,MAAOjB,EAAIkB,IAAKlB,GAAKW,EAApE,IAAgFC,SCqD3EO,G,iNA3EbC,MAAQ,CAAExB,SAAU,GAAIyB,aAAc,GAAIC,SAAS,I,EA+BnDN,iBAAmB,SAAAO,GAAU,IACnBN,EAAUM,EAAMC,OAAhBP,MACFQ,EAAe,EAAKL,MAAMxB,SAAS8B,MAAK,SAAA5B,GAAO,OAAIA,EAAQG,MAAQgB,KAGxE,GAFD,EAAKU,SAAS,CAAEN,aAAcI,KAEpB,IADAG,OAAOC,QAAP,yBAAiCJ,EAAa1B,YAAYY,UAA1D,MACK,CACZrB,QAAQC,IAAI,oBACZ,IAAMuC,EAAe,CACpBC,WAAYN,EAAaxB,IACzB+B,SAAU,EAAKZ,MAAME,SAASrB,IAC9BgC,KAAM,EAAKb,MAAME,SAASW,MAE3B3C,QAAQC,IAAIuC,GACZI,MAAM,mCAAoC,CACzCC,OAAQ,OACRC,KAAMC,KAAKC,UAAUR,GACrBS,QAAS,CAAE,eAAgB,wB,mFA7CZ,IAAD,OAClBjD,QAAQC,IAAI,yBAEZ2C,MAAM,6BACHM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAAAG,GAEE,EAAKhB,SAAS,CAAE/B,SAAU+C,OAE5B,SAAAC,GACEtD,QAAQC,IAAI,6BAKpB2C,MAAM,6BACDM,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAAAG,GAEE,EAAKhB,SAAS,CAAEL,SAAUqB,OAE5B,SAAAC,GACEtD,QAAQC,IAAI,yBAAyBqD,Q,+BA6B3C,OADAtD,QAAQC,IAAIsD,KAAKzB,OAEf,oCACE,8BAGA,6BACGyB,KAAKzB,MAAMxB,SAASkD,OAAS,EAC5B,kBAAC,EAAD,CACElD,SAAUiD,KAAKzB,MAAMxB,SACrBoB,iBAAkB6B,KAAK7B,mBAGzB,wD,GApEO+B,IAAMC,Y,iBCsBVC,E,iLAhBX,OACE,6BACE,kBAAC,IAAD,KACE,6BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWjC,IACjC,kBAAC,IAAD,CAAO+B,OAAK,EAACC,KAAK,QAAQC,UAAWjC,IACrC,kBAAC,IAAD,CAAOiC,UAAWC,c,GAVdN,IAAMC,WCFxBM,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.7a4f83bd.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport \"../styles/DropList.css\";\n\nconst DropList = (props) => {\n  console.log(props)\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n\n  const mapStudents = () => {\n    return props.students.map(student => {\n      return {...student.contactinfo, id: student._id}\n    })\n  }\n\n  const onlyContactInfo = mapStudents()\n  console.log(onlyContactInfo)\n  const toggle = () => setDropdownOpen(prevState => !prevState);\n\n  return (\n    <Dropdown isOpen={dropdownOpen} toggle={toggle} size='lg'>\n      <DropdownToggle color='primary' caret>\n        Select Your Name\n        </DropdownToggle>\n      <DropdownMenu>\n        { onlyContactInfo.map(({firstname, lastname, email, id}) => {\n          return (\n\n          <DropdownItem onClick={props.handleNameSelect} value={id} key={id}>{firstname} {lastname}</DropdownItem>\n          )\n        })}\n      </DropdownMenu>\n    </Dropdown>\n  );\n}\n\nexport default DropList;","import React from \"react\";\nimport DropList from \"../components/DropList.js\";\nimport '../styles/Home.css';\n\nclass Home extends React.Component {\n  state = { students: [], selectedName: {}, classNow:\"\" };\n\n  componentDidMount() {\n    console.log(\"App.componentDidMount\");\n\n    fetch(\"http://localhost:8080/all\")\n      .then(res => res.json())\n      .then(\n        result => {\n          //console.log(result);\n          this.setState({ students: result }); //ALWAYS USE setState to modify state\n        },\n        error => {\n          console.log(\"something bad happened\");\n        }\n      );\n  \n  //front end has access to the Now Route api \n  fetch(\"http://localhost:8080/now\")\n      .then(res => res.json())\n      .then(\n        result => {\n          //console.log(result);\n          this.setState({ classNow: result }); //ALWAYS USE setState to modify state\n        },\n        error => {\n          console.log(\"something bad happened\",error);\n        }\n      );\n  }\n\n  handleNameSelect = event => {\n    const { value } = event.target;\n    const foundStudent = this.state.students.find(student => student._id === value)\n    this.setState({ selectedName: foundStudent });\n    const r = window.confirm(`Are you really ${foundStudent.contactinfo.firstname}?`);\n     if(r === true){ \n       console.log(\"we got a confirm\") \n       const attendanceData={\n        student_id: foundStudent._id,\n        class_id: this.state.classNow._id,\n        type: this.state.classNow.type\n       }\n       console.log(attendanceData)\n       fetch('http://localhost:8080/attendance', {\n        method: 'post',\n        body: JSON.stringify(attendanceData),\n        headers: { 'Content-type': 'application/json' }\n      })\n  }\n}\n\n\n  render() {\n    console.log(this.state);\n    return (\n      <>\n        <div>\n          {/* <h1>this is connected</h1> */}\n        </div>\n        <div>\n          {this.state.students.length > 0 ? (\n            <DropList\n              students={this.state.students}\n              handleNameSelect={this.handleNameSelect}\n            />\n          ) : (\n            <h1>Waiting for API...</h1>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Home;","import React from \"react\";\n// import './App.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport NoMatch from \"./pages/NoMatch.js\";\n//import { RecordsTable } from 'admin-bro';\n\nclass App extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <Router>\n          <div>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route exact path=\"/Home\" component={Home} />\n              <Route component={NoMatch} />\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}